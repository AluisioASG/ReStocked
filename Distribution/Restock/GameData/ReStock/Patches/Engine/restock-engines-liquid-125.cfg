// Patches applying art changes to 1.25m engines
// Contents:
// - LV-N "Nerv" Atomic Rocket Motor (nuclearEngine)
// - S3 KS-25 "Vector" Liquid Fuel Engine (SSME)
// - LV-909 "Terrier" Liquid Fuel Engine (liquidEngine3_v2)
// - LV-T45 "Swivel" Liquid Fuel Engine (liquidEngine2)
// - LV-T30 "Reliant" Liquid Fuel Engine (liquidEngine)
// - Mk-55 "Thud" Liquid Fuel Engine (radialLiquidEngine1-2) - FX only
// - T-1 Toroidal "Aerospike" Liquid Fuel Engine (toroidalAerospike) - FX only

// LV-N
@PART[nuclearEngine]
{
  @author = Chris Adderley (Nertea)
  !mesh = DELETE
  !MODEL {}
  MODEL
  {
    model = ReStock/Assets/Engine/restock-engine-nerv-1
  }
  @manufacturer = #autoLOC_501637 //#autoLOC_501637 = Rockomax Conglomerate
  %node_attach = 0.0, 1.40383, 0.0, 0.0, 1.0, 0.0, 1
  @attachRules = 1,1,1,0,0
  !fx_exhaustFlame_blue = DELETE
  !fx_exhaustLight_blue = DELETE
  !fx_smokeTrail_light = DELETE
  !sound_vent_medium = DELETE
  !sound_rocket_hard = DELETE
  !sound_vent_soft = DELETE
  !sound_explosion_low = DELETE
  !EFFECTS {}
  EFFECTS
  {
    engage
    {
      AUDIO
      {
        channel = Ship
        clip = sound_vent_medium
        volume = 1.0
        pitch = 2.0
        loop = false
      }
    }
    flameout
    {
      AUDIO
      {
        channel = Ship
        clip = sound_explosion_low
        volume = 1.0
        pitch = 2.0
        loop = false
      }
    }
    fx-nerv-running
    {
      AUDIO
      {
        channel = Ship
        clip = sound_rocket_hard
        volume = 0.0 0.0
        volume = 1.0 1.0
        pitch = 0.0 0.2
        pitch = 1.0 1.0
        loop = true
      }
      MODEL_MULTI_PARTICLE
      {
        name = core
        modelName = ReStock/FX/restock-fx-nerv-core-1
        transformName = fxTransformCore
        emission = 0.0 0.0
        emission = 0.01 0.1
        emission = 0.075 0.25
        emission = 1.0 1.0
        speed = 0.0 0.35
        speed = 1.0 1.0
      }
      MODEL_MULTI_PARTICLE
      {
        name = turbo
        modelName = ReStock/FX/restock-fx-nerv-turbo-1
        transformName = fxTransformTurbo
        emission = 0.0 0.0
        emission = 0.01 0.1
        emission = 0.075 0.25
        emission = 1.0 1.0
        speed = 0.0 0.35
        speed = 1.0 1.0
      }
      MODEL_MULTI_PARTICLE
      {
        name = plume
        modelName = ReStock/FX/restock-fx-nerv-plume-1
        transformName = fxTransformPlume
        emission = 0.0 0.0
        emission = 0.01 0.1
        emission = 0.075 0.25
        emission = 1.0 1.0
        speed = 0.0 0.35
        speed = 1.0 1.0
      }
      PREFAB_PARTICLE
      {
        prefabName = fx_smokeTrail_light
        transformName = smokePoint
        emission = 0.0 0.0
        emission = 0.05 0.0
        emission = 0.075 0.25
        emission = 1.0 1.25
        speed = 0.0 0.25
        speed = 1.0 1.0
      }
    }
  }
  @MODULE[ModuleEngines]
  {
    @name = ModuleEnginesFX
    %runningEffectName = fx-nerv-running
  }
  !MODULE[ModuleAnimateHeat] {}
  !MODULE[FXModuleAnimateThrottle] {}
  MODULE
  {
    name = FXModuleThrottleEffects
    fxModuleNames = heatColor
    responseSpeed = 1.0
    dependOnEngineState = True
    dependOnThrottle = True
  }
  MODULE
  {
    name = FXModuleThrottleEffects
    fxModuleNames = throttleColor
    responseSpeed = 1.0
    dependOnEngineState = True
    dependOnThrottle = True
  }
  MODULE
  {
    name = ModuleColorChanger
    moduleID = heatColor
    animRate = 0.025
    shaderProperty = _EmissiveColor
    excludedRenderer = EngineCoreGlow
    toggleInEditor = false
    toggleInFlight = false
    redCurve
    {
      key = 0 0 1 1
      key = 1 1 1 1
    }
    greenCurve
    {
      key = 0 0 1 1
      key = 1 1 1 1
    }
    blueCurve
    {
      key = 0 0 1 1
      key = 1 1 1 1
    }
    alphaCurve
    {
      key = 0 0 1 1
      key = 1 1 1 1
    }
  }
  MODULE
  {
    name = ModuleColorChanger
    moduleID = throttleColor
    animRate = 1
    shaderProperty = _TintColor
    includedRenderer = EngineCoreGlow
    toggleInEditor = false
    toggleInFlight = false
    redCurve
    {
      key = 0 0
      key = 1 1
    }
    greenCurve
    {
      key = 0 0
      key = 1 1
    }
    blueCurve
    {
      key = 0 0
      key = 1 1
    }
    alphaCurve
    {
      key = 0 0
      key = 1 1
    }
  }
  // This disables Ven's Stock Replacement functions on this part
  VSRexclude = True
}

// Vector
@PART[SSME]
{
  @author = Chris Adderley (Nertea)
  !mesh = DELETE
  !MODEL {}
  MODEL
  {
    model = ReStock/Assets/Engine/restock-engine-vector-1
  }
  @bulkheadProfiles = srf, size1, size2
  node_attach = 0.0,0,0.0 , 0.0, 1.0, 0.0, 1
  DRAG_CUBE
  {
    cube = 0, 2.312,0.7586,1.181, 2.312,0.7602,1.243, 1.2,0.6938,1.333, 1.2,0.4948,1.383, 2.321,0.7617,1.215, 2.321,0.7611,1.455, 0,-0.4475,-5.96E-08, 1.255,2.355,1.255
    cube = 1, 3.732,0.7707,1.334, 3.732,0.7707,1.345, 4.8,0.854,2.518, 4.8,0.7634,2.266, 3.72,0.7705,1.334, 3.72,0.7708,1.324, -3.576E-07,-0.4541,0, 2.5,2.368,2.5
    cube = 2, 3.588,0.7335,1.493, 3.587,0.7287,1.535, 4.8,0.6318,2.499, 4.8,0.4139,2.215, 3.565,0.7305,1.366, 3.564,0.7263,1.567, 0,-0.4195,0, 2.5,2.299,2.5
    cube = 3, 1.904,0.719,0.9408, 1.902,0.7357,0.8684, 4.8,0.3,2.544, 4.8,0.3,2.115, 1.938,0.6766,0.9222, 1.94,0.7415,0.7234, 3.576E-07,-0.4418,-2.384E-07, 2.5,2.344,2.5
  }
  !EFFECTS {}
  EFFECTS
  {
    engage
    {
      AUDIO
      {
        channel = Ship
        clip = sound_vent_soft
        volume = 1.0
        pitch = 2.0
        loop = false
      }
    }
    flameout
    {
      PREFAB_PARTICLE
      {
        prefabName = fx_exhaustSparks_flameout_2
        transformName = thrustTransform
        oneShot = true
      }
      AUDIO
      {
        channel = Ship
        clip = sound_explosion_low
        volume = 1.0
        pitch = 2.0
        loop = false
      }
    }
    fx-vector-running
    {
      AUDIO
      {
        channel = Ship
        clip = sound_rocket_hard
        volume = 0.0 0.0
        volume = 0.01 0.4
        volume = 1.0 1.0
        pitch = 0.0 0.2
        pitch = 0.01 0.6
        pitch = 1.0 1.8
        loop = true
      }
      MODEL_MULTI_PARTICLE
      {
        name = core
        modelName = ReStock/FX/restock-fx-vector-core-1
        transformName = fxTransformCore
        emission = 0.0 0.0
        emission = 0.01 0.1
        emission = 0.075 0.25
        emission = 1.0 1.0
        speed = 0.0 0.35
        speed = 1.0 1.0
      }
      MODEL_MULTI_PARTICLE
      {
        name = plume
        modelName = ReStock/FX/restock-fx-vector-plume-1
        transformName = fxTransformPlume
        emission = 0.0 0.0
        emission = 0.01 0.1
        emission = 0.075 0.25
        emission = 1.0 1.0
        speed = 0.0 0.35
        speed = 1.0 1.0
      }
      PREFAB_PARTICLE
      {
        prefabName = fx_smokeTrail_light
        transformName = smokePoint
        emission = 0.0 0.0
        emission = 0.05 0.0
        emission = 0.075 0.25
        emission = 1.0 1.25
        speed = 0.0 0.25
        speed = 1.0 1.0
        localOffset = 0, 0, 0
      }
    }
  }
  MODULE
  {
    name = ModulePartVariants
    baseVariant = Size1
    VARIANT
    {
      name = Size1
      displayName = #LOC_Restock_variant-engine_size1
      primaryColor = #999999
      secondaryColor = #000000
      GAMEOBJECTS
      {
        Var_25 = false
        Var_25_Boat = false
        Var_125 = true
        Var_Compact = false
        Var_UpperGimbals = false
        Var_LowerGimbals = false
        Fairing125 = true
        Fairing25 = false
        Fairing25_Boat = false
        FairingCompact = false
      }
      NODES
      {
        node_stack_top = 0.0,0.0,0.0 , 0.0, 1.0, 0.0, 1
      }
    }
    VARIANT
    {
      name = Size2
      displayName = #LOC_Restock_variant-engine_size2
      primaryColor = #000000
      secondaryColor = #999999
      GAMEOBJECTS
      {
        Var_25 = true
        Var_25_Boat = false
        Var_125 = false
        Var_Compact = false
        Var_UpperGimbals = true
        Var_LowerGimbals = true
        Fairing125 = false
        Fairing25 = true
        Fairing25_Boat = false
        FairingCompact = false
      }
      NODES
      {
        node_stack_top = 0.0,0.634,0.0 , 0.0, 1.0, 0.0, 2
      }
    }
    VARIANT
    {
      name = Boattail
      displayName = #LOC_Restock_variant-engine_boattail
      primaryColor = #ffffff
      secondaryColor = #f69449
      GAMEOBJECTS
      {
        Var_25 = false
        Var_25_Boat = true
        Var_125 = false
        Var_Compact = false
        Var_UpperGimbals = true
        Var_LowerGimbals = true
        Fairing125 = false
        Fairing25 = false
        Fairing25_Boat = false
        FairingCompact = false
      }
      NODES
      {
        node_stack_top = 0.0,0.634,0.0 , 0.0, 1.0, 0.0, 2
      }
    }
    VARIANT
    {
      name = Compact
      displayName = #LOC_Restock_variant-engine_compact
      primaryColor = #999999
      secondaryColor = #555555
      GAMEOBJECTS
      {
        Var_25 = false
        Var_25_Boat = false
        Var_125 = false
        Var_Compact = true
        Var_UpperGimbals = true
        Var_LowerGimbals = true
        Fairing125 = false
        Fairing25 = true
        Fairing25_Boat = false
        FairingCompact = true
      }
      NODES
      {
        node_stack_top = 0.0,0.422,0.0 , 0.0, 1.0, 0.0, 1
      }
    }
  }
  @MODULE[ModuleEnginesFX]
  {
    %runningEffectName = fx-vector-running
  }
  @MODULE[ModuleJettison]
  {
    @jettisonName = Fairing125,Fairing25,FairingCompact
    useMultipleDragCubes = false
  }
  @MODULE[ModuleGimbal]
  {
    @gimbalTransformName = B_Gimbal
    gimbalResponseSpeed = 8
    useGimbalResponseSpeed = true
  }
  MODULE
  {
    name = FXModuleLookAtConstraint
    // Ringed
    CONSTRAINLOOKFX
    {
      targetName = CylBot017
      rotatorsName = CylTop017
    }
    CONSTRAINLOOKFX
    {
      targetName = CylBot018
      rotatorsName = CylTop018
    }
    CONSTRAINLOOKFX
    {
      targetName = CylBot019
      rotatorsName = CylTop019
    }
    CONSTRAINLOOKFX
    {
      targetName = CylBot020
      rotatorsName = CylTop020
    }
    CONSTRAINLOOKFX
    {
      targetName = CylTop017
      rotatorsName = CylBot017
    }
    CONSTRAINLOOKFX
    {
      targetName = CylTop018
      rotatorsName = CylBot018
    }
    CONSTRAINLOOKFX
    {
      targetName = CylTop019
      rotatorsName = CylBot019
    }
    CONSTRAINLOOKFX
    {
      targetName = CylTop020
      rotatorsName = CylBot020
    }
  }
  !MODULE[FXModuleAnimateThrottle] {}
  MODULE
  {
    name = FXModuleThrottleEffects
    fxModuleNames = heatColor
    responseSpeed = 1.0
    dependOnEngineState = True
    dependOnThrottle = True
  }
  MODULE
  {
    name = FXModuleThrottleEffects
    fxModuleNames = throttleColor
    responseSpeed = 1.0
    dependOnEngineState = True
    dependOnThrottle = True
  }
  MODULE
  {
    name = ModuleColorChanger
    moduleID = heatColor
    animRate = 0.05
    shaderProperty = _EmissiveColor
    excludedRenderer = EngineCore
    toggleInEditor = false
    toggleInFlight = false
    redCurve
    {
      key = 0 0 1 1
      key = 1 1 1 1
    }
    greenCurve
    {
      key = 0 0 1 1
      key = 1 1 1 1
    }
    blueCurve
    {
      key = 0 0 1 1
      key = 1 1 1 1
    }
    alphaCurve
    {
      key = 0 0 1 1
      key = 1 1 1 1
    }
  }
  MODULE
  {
    name = ModuleColorChanger
    moduleID = throttleColor
    animRate = 1
    shaderProperty = _TintColor
    includedRenderer = EngineCore
    toggleInEditor = false
    toggleInFlight = false
    redCurve
    {
      key = 0 1
      key = 1 1
    }
    greenCurve
    {
      key = 0 1
      key = 1 1
    }
    blueCurve
    {
      key = 0 1
      key = 1 1
    }
    alphaCurve
    {
      key = 0 0
      key = 1 1
    }
  }
  // This disables Ven's Stock Replacement functions on this part
  VSRexclude = True
}

// Terrier
@PART[liquidEngine3_v2]
{
  @author = Porkjet and Chris Adderley (Nertea)
  !mesh = DELETE
  !MODEL {}
  MODEL
  {
    model = ReStock/Assets/Engine/restock-engine-terrier-1
  }
  node_attach = 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 1
  @attachRules = 1,1,1,0,0
  !fx_exhaustFlame_blue = DELETE
  !fx_exhaustLight_blue = DELETE
  !fx_smokeTrail_light = DELETE
  !sound_vent_medium = DELETE
  !sound_rocket_hard = DELETE
  !sound_vent_soft = DELETE
  !sound_explosion_low = DELETE
  DRAG_CUBE
  {
    cube = Fairing, 1.208,0.7553,0.7254, 1.208,0.7553,0.7254, 1.253,0.9242,0.2382, 1.253,0.6771,0.8475, 1.208,0.7546,0.7254, 1.208,0.7549,0.7254, -2.086E-06,-0.3681,1.788E-07, 1.268,0.9682,1.268
    cube = Clean, 1.126,0.7562,0.7165, 1.126,0.7561,0.7165, 0.3048,0.9031,0.2075, 0.3048,0.9011,0.2075, 1.126,0.7553,0.7165, 1.126,0.7554,0.7165, 0,-0.3739,0, 1.25,0.9566,1.25
  }
  !EFFECTS {}
  EFFECTS
  {
    engage
    {
      AUDIO
      {
        channel = Ship
        clip = sound_vent_medium
        volume = 1.0
        pitch = 2.0
        loop = false
      }
    }
    flameout
    {
      AUDIO
      {
        channel = Ship
        clip = sound_explosion_low
        volume = 1.0
        pitch = 2.0
        loop = false
      }
    }
    fx-terrier-running
    {
      AUDIO
      {
        channel = Ship
        clip = sound_rocket_hard
        volume = 0.0 0.0
        volume = 0.01 0.2
        volume = 1.0 0.6
        pitch = 0.0 0.1
        pitch = 0.01 0.2
        pitch = 1.0 0.5
        loop = true
      }
      MODEL_MULTI_PARTICLE
      {
        name = plume
        modelName = ReStock/FX/restock-fx-terrier-1
        transformName = fxTransformPlume
        emission = 0.0 0.0
        emission = 0.01 0.1
        emission = 0.075 0.25
        emission = 1.0 1.0
        speed = 0.0 0.8
        speed = 1.0 1.0
      }
      MODEL_MULTI_PARTICLE
      {
        name = core
        modelName = ReStock/FX/restock-fx-terrier-core-1
        transformName = fxTransformCore
        emission = 0.0 0.0
        emission = 0.01 0.1
        emission = 0.075 0.25
        emission = 1.0 1.0
        speed = 0.0 0.8
        speed = 1.0 1.0
      }
      PREFAB_PARTICLE
      {
        prefabName = fx_smokeTrail_light
        transformName = smokePoint
        emission = 0.0 0.0
        emission = 0.05 0.0
        emission = 0.075 0.25
        emission = 1.0 1.25
        speed = 0.0 0.25
        speed = 1.0 1.0
        localOffset = 0, 0, 0
      }
    }
  }
  @bulkheadProfiles = srf, size1
  !MODULE[ModulePartVariants] {}
  MODULE
  {
    name = ModulePartVariants
    useMultipleDragCubes = false
    baseVariant = Size1
    VARIANT
    {
      name = Size1
      displayName = #LOC_Restock_variant-engine_size1
      primaryColor = #999999
      secondaryColor = #ffb80c
      GAMEOBJECTS
      {
        LV_909_Boattail = false
        LV_909_Basic = true
        LV_909_Compact = false
        Shroud909 = true
        Shroud909_Compact = false
      }
    }
    VARIANT
    {
      name = Boattail
      displayName = #LOC_Restock_variant-engine_boattail
      primaryColor = #ffffff
      secondaryColor = #ffb80c
      GAMEOBJECTS
      {
        LV_909_Boattail = true
        LV_909_Basic = false
        LV_909_Compact = false
        Shroud909 = false
        Shroud909_Compact = false
      }
    }
    VARIANT
    {
      name = Compact
      displayName = #LOC_Restock_variant-engine_compact
      primaryColor = #999999
      secondaryColor = #999999
      GAMEOBJECTS
      {
        LV_909_Boattail = false
        LV_909_Basic = false
        LV_909_Compact = true
        Shroud909 = false
        Shroud909_Compact = true
      }
    }
  }
  @MODULE[ModuleEngines]
  {
    @name = ModuleEnginesFX
    %runningEffectName = fx-terrier-running
  }
  @MODULE[ModuleJettison]
  {
    @jettisonName = Shroud909,Shroud909_Compact
    useMultipleDragCubes = true
  }
  @MODULE[ModuleGimbal]
  {
    @gimbalTransformName = Gimbal
    gimbalResponseSpeed = 8
    useGimbalResponseSpeed = true
  }
  !MODULE[FXModuleAnimateThrottle] {}
  MODULE
  {
    name = FXModuleThrottleEffects
    fxModuleNames = heatColor
    responseSpeed = 1.0
    dependOnEngineState = True
    dependOnThrottle = True
  }
  MODULE
  {
    name = FXModuleThrottleEffects
    fxModuleNames = throttleColor
    responseSpeed = 1.0
    dependOnEngineState = True
    dependOnThrottle = True
  }
  MODULE
  {
    name = ModuleColorChanger
    moduleID = heatColor
    animRate = 0.025
    shaderProperty = _EmissiveColor
    excludedRenderer = EngineCore909Glow
    toggleInEditor = false
    toggleInFlight = false
    redCurve
    {
      key = 0 0 1 1
      key = 1 1 1 1
    }
    greenCurve
    {
      key = 0 0 1 1
      key = 1 1 1 1
    }
    blueCurve
    {
      key = 0 0 1 1
      key = 1 1 1 1
    }
    alphaCurve
    {
      key = 0 0 1 1
      key = 1 1 1 1
    }
  }
  MODULE
  {
    name = ModuleColorChanger
    moduleID = throttleColor
    animRate = 1
    shaderProperty = _TintColor
    includedRenderer = EngineCore909Glow
    toggleInEditor = false
    toggleInFlight = false
    redCurve
    {
      key = 0 0
      key = 1 1
    }
    greenCurve
    {
      key = 0 0
      key = 1 1
    }
    blueCurve
    {
      key = 0 0
      key = 1 1
    }
    alphaCurve
    {
      key = 0 0
      key = 1 1
    }
  }
  // This disables Ven's Stock Replacement functions on this part
  VSRexclude = True
}

// Reliant
@PART[liquidEngine]
{
  @author = Porkjet and Chris Adderley (Nertea)
  !mesh = DELETE
  !MODEL {}
  MODEL
  {
    model = ReStock/Assets/Engine/restock-engine-reliant-1
  }
  %rescaleFactor = 1
  @scale = 1
  @attachRules = 1,1,1,0,0
  DRAG_CUBE
  {
    cube = 0, 1.323,0.7658,0.6937, 1.323,0.7658,0.6937, 1.2,0.71,1.99, 1.2,0.60,1.863, 1.342,0.7654,0.7222, 1.342,0.7655,0.7222, -4.768E-07,0.04716,-1.442E-05, 1.25,1.959,1.25
    cube = 1, 1.626,0.7348,0.9771, 1.626,0.7485,0.7117, 1.199,0.9966,0.321, 1.199,0.4031,1.449, 1.682,0.7548,0.7173, 1.682,0.7527,0.7117, 0.0001327,0.07738,-1.454E-05, 1.24,1.899,1.24
    cube = 2, 1.344,0.7648,0.6937, 1.344,0.7649,0.7165, 1.2,0.41,1.999, 1.2,0.40,1.914, 1.342,0.7641,0.7222, 1.342,0.7642,0.7222, -0.0001337,0.04716,-0.001876, 1.25,1.959,1.25
  }
  !fx_exhaustFlame_blue = DELETE
  !fx_exhaustLight_blue = DELETE
  !fx_smokeTrail_light = DELETE
  !fx_exhaustSparks_flameout = DELETE
  !sound_vent_medium = DELETE
  !sound_rocket_hard = DELETE
  !sound_vent_soft = DELETE
  !sound_explosion_low = DELETE
  !EFFECTS {}
  EFFECTS
  {
    engage
    {
      AUDIO
      {
        channel = Ship
        clip = sound_vent_medium
        volume = 1.0
        pitch = 2.0
        loop = false
      }
    }
    flameout
    {
      PREFAB_PARTICLE
      {
        prefabName = fx_exhaustSparks_flameout
        transformName = thrustTransform
        oneShot = true
      }
      AUDIO
      {
        channel = Ship
        clip = sound_explosion_low
        volume = 1.0
        pitch = 2.0
        loop = false
      }
    }
    fx-reliant-running
    {
      AUDIO
      {
        channel = Ship
        clip = sound_rocket_hard
        volume = 0.0 0.0
        volume = 0.01 0.4
        volume = 1.0 1.0
        pitch = 0.0 0.2
        pitch = 0.01 0.6
        pitch = 1.0 1.8
        loop = true
      }
      MODEL_MULTI_PARTICLE
      {
        name = turbo
        modelName = ReStock/FX/restock-fx-reliant-turbo-1
        transformName = fxTransformTurbo
        emission = 0.0 0.0
        emission = 0.01 0.1
        emission = 0.075 0.25
        emission = 1.0 1.0
        speed = 0.0 0.35
        speed = 1.0 1.0
      }
      MODEL_MULTI_PARTICLE
      {
        name = core
        modelName = ReStock/FX/restock-fx-reliant-core-1
        transformName = fxTransformCore
        emission = 0.0 0.0
        emission = 0.01 0.1
        emission = 0.075 0.25
        emission = 1.0 1.0
        speed = 0.0 0.35
        speed = 1.0 1.0
      }
      MODEL_MULTI_PARTICLE
      {
        name = plume
        modelName = ReStock/FX/restock-fx-reliant-plume-1
        transformName = fxTransformPlume
        emission = 0.0 0.0
        emission = 0.01 0.1
        emission = 0.075 0.25
        emission = 1.0 1.0
        speed = 0.0 0.35
        speed = 1.0 1.0
      }
      PREFAB_PARTICLE
      {
        prefabName = fx_smokeTrail_light
        transformName = smokePoint
        emission = 0.0 0.0
        emission = 0.05 0.0
        emission = 0.075 0.25
        emission = 1.0 1.25
        speed = 0.0 0.25
        speed = 1.0 1.0
        localOffset = 0, 0, 0
      }
    }
  }
  @bulkheadProfiles = srf, size1
  %node_attach = 0.0, 0.90182625, 0.0, 0.0, 1.0, 0.0, 1
  @node_stack_top = 0.0, 0.90182625, 0.0, 0.0, 1.0, 0.0
  @node_stack_bottom = 0.0, -0.90925375, 0.0, 0.0, -1.0, 0.0
  MODULE
  {
    name = ModulePartVariants
    baseVariant = Size1
    VARIANT
    {
      name = Size1
      displayName = #LOC_Restock_variant-engine_size1
      primaryColor = #999999
      secondaryColor = #ffb80c
      GAMEOBJECTS
      {
        LV_T30_Basic = true
        LV_T30_Compact = false
        LV_T30_Boattail = false
        ShroudT30 = true
        ShroudT30_Compact = false
      }
    }
    VARIANT
    {
      name = Boattail
      displayName = #LOC_Restock_variant-engine_boattail
      primaryColor = #ffffff
      secondaryColor = #ffb80c
      GAMEOBJECTS
      {
        LV_T30_Basic = false
        LV_T30_Compact = false
        LV_T30_Boattail = true
        ShroudT30 = false
        ShroudT30_Compact = false
      }
    }
    VARIANT
    {
      name = Compact
      displayName = #LOC_Restock_variant-engine_compact
      primaryColor = #999999
      secondaryColor = #999999
      GAMEOBJECTS
      {
        LV_T30_Basic = false
        LV_T30_Compact = true
        LV_T30_Boattail = false
        ShroudT30 = false
        ShroudT30_Compact = true
      }
    }
  }
  @MODULE[ModuleEngines]
  {
    @name = ModuleEnginesFX
    %runningEffectName = fx-reliant-running
  }
  @MODULE[ModuleJettison]
  {
    @jettisonName = ShroudT30,ShroudT30_Compact
    useMultipleDragCubes = false
  }
  !MODULE[FXModuleAnimateThrottle] {}
  MODULE
  {
    name = FXModuleThrottleEffects
    fxModuleNames = heatColor
    responseSpeed = 1.0
    dependOnEngineState = True
    dependOnThrottle = True
  }
  MODULE
  {
    name = FXModuleThrottleEffects
    fxModuleNames = throttleColor
    responseSpeed = 1.0
    dependOnEngineState = True
    dependOnThrottle = True
  }
  MODULE
  {
    name = ModuleColorChanger
    moduleID = heatColor
    animRate = 0.025
    shaderProperty = _EmissiveColor
    excludedRenderer = EngineCoreT30Glow
    toggleInEditor = false
    toggleInFlight = false
    redCurve
    {
      key = 0 0 1 1
      key = 1 1 1 1
    }
    greenCurve
    {
      key = 0 0 1 1
      key = 1 1 1 1
    }
    blueCurve
    {
      key = 0 0 1 1
      key = 1 1 1 1
    }
    alphaCurve
    {
      key = 0 0 1 1
      key = 1 1 1 1
    }
  }
  MODULE
  {
    name = ModuleColorChanger
    moduleID = throttleColor
    animRate = 1
    shaderProperty = _TintColor
    includedRenderer = EngineCoreT30Glow
    toggleInEditor = false
    toggleInFlight = false
    redCurve
    {
      key = 0 0
      key = 1 1
    }
    greenCurve
    {
      key = 0 0
      key = 1 1
    }
    blueCurve
    {
      key = 0 0
      key = 1 1
    }
    alphaCurve
    {
      key = 0 0
      key = 1 1
    }
  }
  // This disables Ven's Stock Replacement functions on this part
  VSRexclude = True
}

// Swivel
@PART[liquidEngine2]
{
  @author = Porkjet and Chris Adderley (Nertea)
  !mesh = DELETE
  !MODEL {}
  MODEL
  {
    model = ReStock/Assets/Engine/restock-engine-swivel-1
  }
  @bulkheadProfiles = srf, size1
  rescaleFactor = 1.0
  @node_stack_top = 0.0, 9.0182625, 0.0, 0.0, 1.0, 0.0
  @node_stack_bottom = 0.0, -7.179225, 0.0, 0.0, -1.0, 0.0
  %node_attach = 0.0, 9.0182625, 0.0, 0.0, 1.0, 0.0, 1
  @attachRules = 1,1,1,0,0
  DRAG_CUBE
  {
    cube = 0, 1.068,0.7677,0.8473, 1.068,0.7677,0.6994, 1.2,0.71,1.582, 1.2,0.63,1.716, 1.061,0.7673,0.6994, 1.061,0.7674,0.6994, 0,0.1126,0, 1.25,1.703,1.25
    cube = 1, 1.498,0.7444,0.8578, 1.498,0.721,0.9836, 1.234,0.9966,0.2519, 1.234,0.4147,1.423, 1.535,0.7475,0.7262, 1.535,0.7471,0.7205, 0,0.1194,1.788E-07, 1.258,1.689,1.258
    cube = 2, 1.075,0.768,0.7165, 1.075,0.7679,0.6994, 1.2,0.42,1.582, 1.2,0.40,1.657, 1.069,0.7671,0.6994, 1.069,0.7672,0.6994, 0,0.1126,0, 1.25,1.703,1.25
  }
  !fx_exhaustFlame_blue = DELETE
  !fx_exhaustLight_blue = DELETE
  !fx_smokeTrail_light = DELETE
  !fx_exhaustSparks_flameout = DELETE
  !sound_vent_medium = DELETE
  !sound_rocket_hard = DELETE
  !sound_vent_soft = DELETE
  !sound_explosion_low = DELETE
  EFFECTS
  {
    engage
    {
      AUDIO
      {
        channel = Ship
        clip = sound_vent_medium
        volume = 1.0
        pitch = 2.0
        loop = false
      }
    }
    flameout
    {
      PREFAB_PARTICLE
      {
        prefabName = fx_exhaustSparks_flameout
        transformName = thrustTransform
        oneShot = true
      }
      AUDIO
      {
        channel = Ship
        clip = sound_explosion_low
        volume = 1.0
        pitch = 2.0
        loop = false
      }
    }
    fx-swivel-running
    {
      AUDIO
      {
        channel = Ship
        clip = sound_rocket_hard
        volume = 0.0 0.0
        volume = 0.01 0.4
        volume = 1.0 1.0
        pitch = 0.0 0.2
        pitch = 0.01 0.6
        pitch = 1.0 1.8
        loop = true
      }
      MODEL_MULTI_PARTICLE
      {
        name = core
        modelName = ReStock/FX/restock-fx-swivel-core-1
        transformName = fxTransformCore
        emission = 0.0 0.0
        emission = 0.01 0.1
        emission = 0.075 0.25
        emission = 1.0 1.0
        speed = 0.0 0.35
        speed = 1.0 1.0
      }
      MODEL_MULTI_PARTICLE
      {
        name = plume
        modelName = ReStock/FX/restock-fx-swivel-plume-1
        transformName = fxTransformPlume
        emission = 0.0 0.0
        emission = 0.01 0.1
        emission = 0.075 0.25
        emission = 1.0 1.0
        speed = 0.0 0.35
        speed = 1.0 1.0
      }
      PREFAB_PARTICLE
      {
        prefabName = fx_smokeTrail_light
        transformName = smokePoint
        emission = 0.0 0.0
        emission = 0.05 0.0
        emission = 0.075 0.25
        emission = 1.0 1.25
        speed = 0.0 0.25
        speed = 1.0 1.0
        localOffset = 0, 0, 0
      }
    }
  }
  @MODULE[ModuleEngines]
  {
    @name = ModuleEnginesFX
    %runningEffectName = fx-swivel-running
  }
  MODULE
  {
    name = ModulePartVariants
    baseVariant = Size1
    VARIANT
    {
      name = Size1
      displayName = #LOC_Restock_variant-engine_size1
      primaryColor = #999999
      secondaryColor = #ffb80c
      GAMEOBJECTS
      {
        LV_T45_Boattail = false
        LV_T45_Basic = true
        LV_T45_Compact = false
        T45_Piston001 = true
        T45_Piston002 = true
        T45_Piston003 = false
        T45_Piston004 = false
        Engine = true
        EngineBoattail = false
        ShroudT45 = true
        ShroudT45_Compact = false
      }
    }
    VARIANT
    {
      name = Boattail
      displayName = #LOC_Restock_variant-engine_boattail
      primaryColor = #ffffff
      secondaryColor = #ffb80c
      GAMEOBJECTS
      {
        LV_T45_Boattail = true
        LV_T45_Basic = false
        LV_T45_Compact = false
        T45_Piston001 = false
        T45_Piston002 = false
        T45_Piston003 = false
        T45_Piston004 = false
        Engine = false
        EngineBoattail = true
        ShroudT45 = false
        ShroudT45_Compact = false
      }
    }
    VARIANT
    {
      name = Compact
      displayName = #LOC_Restock_variant-engine_compact
      primaryColor = #999999
      secondaryColor = #999999
      GAMEOBJECTS
      {
        LV_T45_Boattail = false
        LV_T45_Basic = false
        LV_T45_Compact = true
        T45_Piston001 = false
        T45_Piston002 = false
        T45_Piston003 = true
        T45_Piston004 = true
        Engine = true
        EngineBoattail = false
        ShroudT45 = false
        ShroudT45_Compact = true
      }
    }
  }
  @MODULE[ModuleJettison]
  {
    @jettisonName = ShroudT45,ShroudT45_Compact
    useMultipleDragCubes = false
  }
  @MODULE[ModuleGimbal]
  {
    @gimbalTransformName = Gimbal
    gimbalResponseSpeed = 8
    useGimbalResponseSpeed = true
  }
  MODULE
  {
    name = FXModuleLookAtConstraint
    // Basic
    CONSTRAINLOOKFX
    {
      targetName = T45_PistonTop001
      rotatorsName = T45_Piston001
    }
    CONSTRAINLOOKFX
    {
      targetName = T45_PistonTop002
      rotatorsName = T45_Piston002
    }
    CONSTRAINLOOKFX
    {
      targetName = T45_Piston001
      rotatorsName = T45_PistonTop001
    }
    CONSTRAINLOOKFX
    {
      targetName = T45_Piston002
      rotatorsName = T45_PistonTop002
    }
    CONSTRAINLOOKFX
    {
      targetName = T45_PistonTop004
      rotatorsName = T45_Piston003
    }
    CONSTRAINLOOKFX
    {
      targetName = T45_PistonTop003
      rotatorsName = T45_Piston004
    }
    CONSTRAINLOOKFX
    {
      targetName = T45_Piston001
      rotatorsName = T45_PistonTop004
    }
    CONSTRAINLOOKFX
    {
      targetName = T45_Piston002
      rotatorsName = T45_PistonTop003
    }
  }
  !MODULE[FXModuleAnimateThrottle] {}
  MODULE
  {
    name = FXModuleThrottleEffects
    fxModuleNames = heatColor
    responseSpeed = 1.0
    dependOnEngineState = True
    dependOnThrottle = True
  }
  MODULE
  {
    name = FXModuleThrottleEffects
    fxModuleNames = throttleColor
    responseSpeed = 1.0
    dependOnEngineState = True
    dependOnThrottle = True
  }
  MODULE
  {
    name = ModuleColorChanger
    moduleID = heatColor
    animRate = 0.025
    shaderProperty = _EmissiveColor
    excludedRenderer = EngineCoreT45Glow
    toggleInEditor = false
    toggleInFlight = false
    redCurve
    {
      key = 0 0 1 1
      key = 1 1 1 1
    }
    greenCurve
    {
      key = 0 0 1 1
      key = 1 1 1 1
    }
    blueCurve
    {
      key = 0 0 1 1
      key = 1 1 1 1
    }
    alphaCurve
    {
      key = 0 0 1 1
      key = 1 1 1 1
    }
  }
  MODULE
  {
    name = ModuleColorChanger
    moduleID = throttleColor
    animRate = 1
    shaderProperty = _TintColor
    includedRenderer = EngineCoreT45Glow
    toggleInEditor = false
    toggleInFlight = false
    redCurve
    {
      key = 0 1
      key = 1 1
    }
    greenCurve
    {
      key = 0 1
      key = 1 1
    }
    blueCurve
    {
      key = 0 1
      key = 1 1
    }
    alphaCurve
    {
      key = 0 0
      key = 1 1
    }
  }
  // This disables Ven's Stock Replacement functions on this part
  VSRexclude = True
}

// Thud (FX only)
@PART[radialLiquidEngine1-2]
{
  !fx_exhaustFlame_blue_small  = DELETE
  !fx_exhaustLight_blue = DELETE
  !sound_vent_medium = DELETE
  !sound_rocket_hard = DELETE
  !sound_vent_soft = DELETE
  !sound_explosion_low = DELETE
  EFFECTS
  {
    engage
    {
      AUDIO
      {
        channel = Ship
        clip = sound_vent_medium
        volume = 1.0
        pitch = 2.0
        loop = false
      }
    }
    flameout
    {
      PREFAB_PARTICLE
      {
        prefabName = fx_exhaustSparks_flameout
        transformName = thrustTransform
        oneShot = true
        localRotation = -90, 0, 0
      }
      AUDIO
      {
        channel = Ship
        clip = sound_explosion_low
        volume = 1.0
        pitch = 2.0
        loop = false
      }
    }
    fx-thud-running
    {
      AUDIO
      {
        channel = Ship
        clip = sound_rocket_hard
        volume = 0.0 0.0
        volume = 1.0 1.0
        pitch = 0.0 0.2
        pitch = 1.0 1.0
        loop = true
      }
      MODEL_MULTI_PARTICLE
      {
        name = core
        modelName = ReStock/FX/restock-fx-thud-core-1
        transformName = thrustTransform
        emission = 0.0 0.0
        emission = 0.01 0.1
        emission = 0.075 0.25
        emission = 1.0 1.0
        speed = 0.0 0.35
        speed = 1.0 1.0
        localRotation = -90, 0, 0
      }
      MODEL_MULTI_PARTICLE
      {
        name = plume
        modelName = ReStock/FX/restock-fx-thud-plume-1
        transformName = thrustTransform
        emission = 0.0 0.0
        emission = 0.01 0.1
        emission = 0.075 0.25
        emission = 1.0 1.0
        speed = 0.0 0.35
        speed = 1.0 1.0
        localRotation = -90, 0, 0
      }
    }
  }
  @MODULE[ModuleEngines]
  {
    @name = ModuleEnginesFX
    %runningEffectName = fx-thud-running
  }
}

// Dart (FX only)
@PART[toroidalAerospike]
{
  !fx_exhaustFlame_blue  = DELETE
  !fx_exhaustLight_blue = DELETE
  !fx_smokeTrail_light = DELETE
  !fx_exhaustSparks_flameout = DELETE
  !sound_vent_medium = DELETE
  !sound_rocket_hard = DELETE
  !sound_vent_soft = DELETE
  !sound_explosion_low = DELETE
  EFFECTS
  {
    engage
    {
      AUDIO
      {
        channel = Ship
        clip = sound_vent_medium
        volume = 1.0
        pitch = 2.0
        loop = false
      }
    }
    flameout
    {
      PREFAB_PARTICLE
      {
        prefabName = fx_exhaustSparks_flameout
        transformName = thrustTransform
        oneShot = true
        localRotation = -90, 0, 0
      }
      AUDIO
      {
        channel = Ship
        clip = sound_explosion_low
        volume = 1.0
        pitch = 2.0
        loop = false
      }
    }
    fx-dart-running
    {
      AUDIO
      {
        channel = Ship
        clip = sound_rocket_hard
        volume = 0.0 0.0
        volume = 1.0 1.0
        pitch = 0.0 0.2
        pitch = 1.0 1.0
        loop = true
      }
      MODEL_MULTI_PARTICLE
      {
        name = core
        modelName = ReStock/FX/restock-fx-dart-core-1
        transformName = thrustTransform
        emission = 0.0 0.0
        emission = 0.01 0.1
        emission = 0.075 0.25
        emission = 1.0 1.0
        speed = 0.0 0.35
        speed = 1.0 1.0
        localRotation = -90, 0, 0
      }
      MODEL_MULTI_PARTICLE
      {
        name = plume
        modelName = ReStock/FX/restock-fx-dart-plume-1
        transformName = thrustTransform
        emission = 0.0 0.0
        emission = 0.01 0.1
        emission = 0.075 0.25
        emission = 1.0 1.0
        speed = 0.0 0.35
        speed = 1.0 1.0
        localRotation = -90, 0, 0
      }
    }
  }
  @MODULE[ModuleEngines]
  {
    @name = ModuleEnginesFX
    %runningEffectName = fx-dart-running
  }
}
